<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Chatbot Akademik</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    body{
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg,#4e73df,#1cc88a);
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
    }
    .chatbox{
      width:380px;
      background:white;
      border-radius:12px;
      box-shadow:0 10px 30px rgba(0,0,0,.2);
      display:flex;
      flex-direction:column;
      overflow:hidden;
    }
    .header{
      background:#4e73df;
      color:white;
      padding:15px;
      text-align:center;
      font-weight:600;
      letter-spacing:1px;
    }
    .messages{
      flex:1;
      padding:15px;
      overflow-y:auto;
    }
    .bot, .user{
      max-width:80%;
      padding:10px 14px;
      border-radius:15px;
      margin-bottom:10px;
      font-size:14px;
    }
    .bot{
      background:#f1f1f1;
      align-self:flex-start;
    }
    .user{
      background:#4e73df;
      color:white;
      align-self:flex-end;
    }
    .input-area{
      display:flex;
      border-top:1px solid #ddd;
    }
    .input-area input{
      flex:1;
      border:none;
      padding:12px;
      outline:none;
      font-size:14px;
    }
    .input-area button{
      background:#1cc88a;
      border:none;
      color:white;
      padding:0 20px;
      cursor:pointer;
    }
  </style>
</head>
<body>

<div class="chatbox">
  <div class="header">Chatbot Akademik</div>
  <div class="messages" id="chat">
    <div class="bot">Halo! Silakan tanyakan seputar jadwal kuliah, KRS, ujian, atau nilai.</div>
  </div>
  <div class="input-area">
    <input type="text" id="text" placeholder="Ketik pertanyaan..." autocomplete="off">
    <button onclick="send()">Kirim</button>
  </div>
</div>

<script>
function send(){
  let text = document.getElementById("text").value;
  if(text==="") return;

  let chat = document.getElementById("chat");
  chat.innerHTML += `<div class='user'>${text}</div>`;

  fetch("/",{
    method:"POST",
    headers:{"Content-Type":"application/x-www-form-urlencoded"},
    body:"message="+encodeURIComponent(text)
  })
  .then(res=>res.text())
  .then(data=>{
    chat.innerHTML += `<div class='bot'>${data}</div>`;
    chat.scrollTop = chat.scrollHeight;
  });

  document.getElementById("text").value="";
}
</script>

</body>
</html>
